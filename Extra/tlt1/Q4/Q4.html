<html>
<head></head>
<body>
    <div id="orderInfo">
        <h1>You haven't ordered anything.</h1>
    </div>
    <hr>
    <h1>Ala Carte Menu</h1>
    <h2>Starter</h2>
    <div>
        <input type="checkbox" value="Foie Gras" onchange="updt(this.value)">
        Foie Gras: <span id="Foie Gras Price">12<span>
    </div>
    <div>
        <input type="checkbox" value="Salad" onchange="updt(this.value)">
        Salad: <span id="Salad Price">6</span>
    </div>
    <div>
        <input type="checkbox" value="Kimbap" onchange="updt(this.value)">
        Kimbap: <span id="Kimbap Price">10</span>
    </div>
    <h2>Main</h2>
    <div>
        <input type="checkbox" value="Batter Fish" onchange="updt(this.value)">
        Batter Fish: <span id="Batter Fish Price">15.99</span>
    </div>
    <div>
        <input type="checkbox" value="Lasagne" onchange="updt(this.value)">
        Lasagne: <span id="Lasagne Price">16.99</span>
    </div>
    <div>
        <input type="checkbox" value="Pasta" onchange="updt(this.value)">
        Pasta: <span id="Pasta Price">14.99</span>
    </div>
    <h2>Dessert</h2>
    <div>
        <input type="checkbox" value="Cheese Platter" onchange="updt(this.value)">
        Cheese Platter: <span id="Cheese Platter Price">10</span>
    </div>
    <div>
        <input type="checkbox" value="Vinilla Icecream" onchange="updt(this.value)">
        Vinilla Icecream: <span id="Vinilla Icecream Price">6</span>
    </div>
    <div>
        <input type="checkbox" value="Chocolate Cake" onchange="updt(this.value)">
        Chocolate Cake: <span id="Chocolate Cake Price">8</span>
    </div>
    <hr>
    <h1>Set Menu</h1>
    <div>
        <h2> <input type="checkbox" value="Set 0" onchange="updt(this.value)"> Set 0 </h2>
        <ul>
            <li>Starter: Foie Gras</li>
            <li>Main: Pasta</li>
            <li>Dessert: Cheese Platter</li>
            <li>Price: <span id="Set 0 Price">20.5</span></li>
        </ul>
    </div>
    <div>
        <h2> <input type="checkbox" value="Set 1" onchange="updt(this.value)"> Set 1 </h2>
        <ul>
            <li>Starter: Salad</li>
            <li>Main: Lasagne</li>
            <li>Dessert: Apple Pie</li>
            <li>Price: <span id="Set 1 Price">25.99</span></li>
        </ul>
    </div>
    <div>
        <h2> <input type="checkbox" value="Set 2" onchange="updt(this.value)"> Set 2 </h2>
        <ul>
            <li>Starter: Kimbap</li>
            <li>Main: Batter Fish</li>
            <li>Dessert: Chocolate Cake</li>
            <li>Price: <span id="Set 2 Price">29.99</span></li>
        </ul>
    </div>
    <script>
        //Your code should be entirely here. Do not change anything else. 

        var checkCalled = []
        var priceSum = 0        

        function updt(item) {

            var header = document.getElementById("orderInfo")
            var listItem = document.createElement("li")
            var priceValue = document.getElementById(item + " Price").innerText //use innerText to get text within tags
            var itemNode = document.createTextNode(item + ": " + priceValue)
            var priceFloat = parseFloat(priceValue)

            // check if item add or remove

            if (checkCalled.includes(item)) { //removing
                let index = checkCalled.indexOf(item)
                checkCalled.splice(index, 1)
                priceSum -= priceFloat //change price
                if (checkCalled.length == 0) { // change header if list empty
                    header.innerHTML = "<div id='orderInfo'> <h1>You haven't ordered anything.</h1> </div>"
                }
                else {
                    var ulist = document.getElementById("headerul")
                    ulist.removeChild(document.getElementById(item))
                }
            }
            else { //adding
                if (checkCalled.length == 0) { // change header if list got things
                    header.innerHTML = "<div id='orderInfo'> <h1>Your Order.</h1> </div>"

                    //initialise list
                    var ulistTag = document.createElement("ul")
                    ulistTag.setAttribute("id", "headerul")
                    header.appendChild(ulistTag)
                }
                checkCalled.push(item)
                priceSum += priceFloat //change price
                
                listItem.setAttribute("id", item)
                listItem.appendChild(itemNode)
                var ulist = document.getElementById("headerul")
                ulist.insertBefore(listItem, ulist.firstChild)

                if (checkCalled.length == 1) { //add the total price header, then change innertext, cannot keep appending else will keep stacking
                // is 1 not 0 now cuz first time element been added
                    var h1Tag = document.createElement("h1")
                    h1Tag.setAttribute("id", "totalPrice")
                    header.appendChild(h1Tag)
                }

            }
            console.log(checkCalled)
            console.log(priceValue)

            if (checkCalled.length != 0) { //j to remove error lol
                document.getElementById("totalPrice").innerText = "Your order has a total of: " + priceSum + "."
            }
            

        }

        //i am genuinely so fking smart i have no words

    </script>
</body>

</html>